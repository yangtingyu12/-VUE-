{"ast":null,"code":"// 目标: 铺设推荐歌单\n// 1. van-row和van-col来搭建外框布局\n// 2. van-col里内容(van-image和p)\n// 3. 调整间距和属性值\n// 4. 调用封装的api/index.js-推荐歌单api方法\n// 5. 拿到数据保存到data里变量-去上面循环标签\n// 目标: 铺设最新音乐\n// 1. van-cell铺设一套标签结构\n// 2. 自定义右侧插槽里小图标, 调整垂直居中\n// 3. api/Home.js和api/index.js-封装导出获取最新音乐接口方法\n// 4. 获取数据循环铺设页面即可\nimport { recommendMusicAPI, newMusicAPI } from \"@/api\";\nimport SongItem from \"@/components/SongItem\";\nexport default {\n  data() {\n    return {\n      reList: [],\n      // 推荐歌单数据\n      songList: [] // 最新音乐数据\n\n    };\n  },\n\n  async created() {\n    const res = await recommendMusicAPI({\n      limit: 6\n    });\n    console.log(res);\n    this.reList = res.data.result;\n    const res2 = await newMusicAPI({\n      limit: 20\n    });\n    console.log(res2);\n    this.songList = res2.data.result;\n  },\n\n  components: {\n    SongItem\n  }\n};","map":{"version":3,"mappings":"AAqBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC,UADA;MACA;MACAC,YAFA,CAEA;;IAFA;EAIA,CANA;;EAOA;IACA;MACAC;IADA;IAGAC;IACA;IAEA;MACAD;IADA;IAGAC;IACA;EACA,CAnBA;;EAoBAC;IACAC;EADA;AApBA","names":["data","reList","songList","limit","console","components","SongItem"],"sourceRoot":"src/views/Home","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n    <p class=\"title\">推荐歌单</p>\r\n    <van-row gutter=\"6\">\r\n      <van-col span=\"8\" v-for=\"obj in reList\" :key=\"obj.id\">\r\n        <van-image width=\"100%\" height=\"3rem\" fit=\"cover\" :src=\"obj.picUrl\" />\r\n        <p class=\"song_name\">{{ obj.name }}</p>\r\n      </van-col>\r\n    </van-row>\r\n    <p class=\"title\">最新音乐</p>\r\n    <SongItem v-for=\"obj in songList\"\r\n    :key=\"obj.id\"\r\n    :name=\"obj.name\"\r\n    :author=\"obj.song.artists[0].name\"\r\n    :id=\"obj.id\"\r\n    ></SongItem>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 目标: 铺设推荐歌单\r\n// 1. van-row和van-col来搭建外框布局\r\n// 2. van-col里内容(van-image和p)\r\n// 3. 调整间距和属性值\r\n// 4. 调用封装的api/index.js-推荐歌单api方法\r\n// 5. 拿到数据保存到data里变量-去上面循环标签\r\n\r\n// 目标: 铺设最新音乐\r\n// 1. van-cell铺设一套标签结构\r\n// 2. 自定义右侧插槽里小图标, 调整垂直居中\r\n// 3. api/Home.js和api/index.js-封装导出获取最新音乐接口方法\r\n// 4. 获取数据循环铺设页面即可\r\nimport { recommendMusicAPI, newMusicAPI } from \"@/api\";\r\nimport SongItem from \"@/components/SongItem\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      reList: [], // 推荐歌单数据\r\n      songList: [], // 最新音乐数据\r\n    };\r\n  },\r\n  async created() {\r\n    const res = await recommendMusicAPI({\r\n      limit: 6,\r\n    });\r\n    console.log(res);\r\n    this.reList = res.data.result;\r\n\r\n    const res2 = await newMusicAPI({\r\n      limit: 20,\r\n    });\r\n    console.log(res2);\r\n    this.songList = res2.data.result;\r\n  },\r\n  components: {\r\n    SongItem,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 标题 */\r\n.title {\r\n  padding: 0.266667rem 0.24rem;\r\n  margin: 0 0 0.24rem 0;\r\n  background-color: #eee;\r\n  color: #333;\r\n  font-size: 15px;\r\n}\r\n/* 推荐歌单 - 歌名 */\r\n.song_name {\r\n  font-size: 0.346667rem;\r\n  padding: 0 0.08rem;\r\n  margin-bottom: 0.266667rem;\r\n  word-break: break-all;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box; /** 对象作为伸缩盒子模型显示 **/\r\n  -webkit-box-orient: vertical; /** 设置或检索伸缩盒对象的子元素的排列方式 **/\r\n  -webkit-line-clamp: 2; /** 显示的行数 **/\r\n  overflow: hidden; /** 隐藏超出的内容 **/\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}